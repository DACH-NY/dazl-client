<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dazl: DA client library for Python</title>
  

  <link rel="apple-touch-icon" sizes="180x180" href="_static/apple-touch-icon.png"/>
  <link rel="icon" type="image/png" href="_static/favicon-32x32.png" sizes="32x32"/>
  <link rel="icon" type="image/png" href="_static/favicon-16x16.png" sizes="16x16"/>
  <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="dazl 7.5.12 documentation" href="#"/>
        <link rel="next" title="Basics" href="basics.html"/> 
</head>
<body>

   

  <header>
    dazl

  </header>
  <nav>
              
              
                
              
              
                <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrating.html">Migrate</a></li>
<li class="toctree-l1"><a class="reference internal" href="dazl.html">dazl package</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

              

  </nav>
  <main>
    
  <section id="dazl-da-client-library-for-python">
<h1>dazl: DA client library for Python<a class="headerlink" href="#dazl-da-client-library-for-python" title="Permalink to this headline">¶</a></h1>
<p><em>Version: |release|</em></p>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>You will need Python 3.6 or later and a Daml Ledger.</p>
</section>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>This section assumes that you already have a running ledger with the standard <cite>daml new</cite> model
loaded, and have imported <cite>dazl</cite>.</p>
<p>Connect to the ledger and submit a single command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dazl</span>

<span class="k">async</span> <span class="k">with</span> <span class="n">dazl</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;http://localhost:6865&#39;</span><span class="p">,</span> <span class="n">act_as</span><span class="o">=</span><span class="s1">&#39;Alice&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;Main:Asset&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;issuer&#39;</span><span class="p">:</span> <span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">:</span> <span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;hello world!&#39;</span><span class="p">})</span>
</pre></div>
</div>
<p>Connect to the ledger as a single party, print all contracts, and close:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dazl</span>

<span class="k">async</span> <span class="k">with</span> <span class="n">dazl</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;http://localhost:6865&#39;</span><span class="p">,</span> <span class="n">read_as</span><span class="o">=</span><span class="s1">&#39;Alice&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">contracts</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">async</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">conn</span><span class="o">.</span><span class="n">query</span><span class="p">():</span>
        <span class="n">contracts</span><span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">cid</span><span class="p">]</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">cdata</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contracts</span><span class="p">)</span>
</pre></div>
</div>
<p>Connect to the ledger using asynchronous callbacks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dazl</span>

<span class="k">async</span> <span class="k">with</span> <span class="n">dazl</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;http://localhost:6865&#39;</span><span class="p">,</span> <span class="n">read_as</span><span class="o">=</span><span class="s1">&#39;Alice&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">contracts</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="nd">@conn</span><span class="o">.</span><span class="n">on_create</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
        <span class="n">contracts</span><span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">cid</span><span class="p">]</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">cdata</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contracts</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="code">
<h2>Code<a class="headerlink" href="#code" title="Permalink to this headline">¶</a></h2>
<p>Build-time dependencies are handled using <a class="reference external" href="https://python-poetry.org/">Poetry</a>.</p>
</section>
<section id="support">
<h2>Support<a class="headerlink" href="#support" title="Permalink to this headline">¶</a></h2>
<p>The dazl library is supported by the Daml community. If you are in need of support, have questions or just want to engage in friendly conversation anything Daml, contact us on our <a class="reference external" href="https://discuss.daml.com">Daml Community Forum</a>.</p>
</section>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="testing.html#unittest"><code class="docutils literal notranslate"><span class="pre">unittest</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="testing.html#pytest">pytest</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="migrating.html">Migrate</a><ul>
<li class="toctree-l2"><a class="reference internal" href="migrating.html#migrating-to-dazl-v7-5">Migrating to dazl v7.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migrating.html#command-submission-changes-dazl-network-and-dazl-connect">Command submission changes (<code class="docutils literal notranslate"><span class="pre">dazl.Network</span></code> and <code class="docutils literal notranslate"><span class="pre">dazl.connect</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrating.html#command-line-changes">Command-line changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="migrating.html#migrating-to-dazl-v7">Migrating to dazl v7</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migrating.html#template-formats">Template formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrating.html#sandbox-wrapper">Sandbox Wrapper</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrating.html#time-model-changes">Time Model changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrating.html#deprecated-symbols-removal">Deprecated symbols removal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="migrating.html#migrating-to-v6">Migrating to v6</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrating.html#migrating-to-v5">Migrating to v5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migrating.html#library-initialization">Library Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrating.html#initialization-event-listeners">Initialization Event Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrating.html#ready-event-listeners">Ready Event Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrating.html#create-archive-event-listeners">Create/Archive Event Listeners</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dazl.html">dazl package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dazl.cli.html"><code class="docutils literal notranslate"><span class="pre">dazl.cli</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="dazl.cli.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.cli.html#module-dazl.cli.ls">dazl.cli.ls module</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.cli.html#module-dazl.cli">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dazl.client.html"><code class="docutils literal notranslate"><span class="pre">dazl.client</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="dazl.client.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.client.html#module-dazl.client.api">dazl.client.api module</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.client.html#module-dazl.client.bots">dazl.client.bots module</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.client.html#module-dazl.client">Module contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dazl.client.html#dazl-client-package"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.client</span></code> package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dazl.damlast.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.damast</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="dazl.damlast.html#daml-lf-archive-types">DAML-LF Archive types</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.damlast.html#daml-types">DAML Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.damlast.html#daml-lf-fast-lookups">DAML-LF fast lookups</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.damlast.html#daml-lf-archive-parsing">DAML-LF Archive parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.damlast.html#error-types">Error types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dazl.ledger.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.ledger</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="dazl.ledger.html#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.ledger.html#data-model">Data Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.ledger.html#connections">Connections</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.ledger.html#write-side-types">Write-side types</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.ledger.html#read-side-types">Read-side types</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.ledger.html#other">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dazl.ledger.aio.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.ledger.aio</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.ledger.blocking.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.ledger.blocking</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.ledger.config.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.ledger.config</span></code> — connection configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dazl.ledger.config.html#access-configuration">Access configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.ledger.config.html#ssl-tls-configuration">SSL/TLS configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.ledger.config.html#url-configuration">URL configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dazl.model.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.model</span></code> package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dazl.model.html#type-system-types">Type system types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dazl.pretty.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.pretty</span></code> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.protocols.html"><code class="docutils literal notranslate"><span class="pre">dazl.protocols</span></code> package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dazl.protocols.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.protocols.html#module-dazl.protocols.v1">dazl.protocols.v1 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="dazl.protocols.html#module-dazl.protocols">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dazl.testing.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.testing</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.util.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.util</span></code> package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
</div>
</section>
</section>


  </main>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'',
            VERSION:'7.5.12',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/documentation_options.js"></script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <footer> 
  </footer>
</body>
</html>