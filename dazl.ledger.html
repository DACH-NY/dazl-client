<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dazl.ledger</title>
  

  <link rel="apple-touch-icon" sizes="180x180" href="_static/apple-touch-icon.png"/>
  <link rel="icon" type="image/png" href="_static/favicon-32x32.png" sizes="32x32"/>
  <link rel="icon" type="image/png" href="_static/favicon-16x16.png" sizes="16x16"/>
  <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="dazl 7.5.13 documentation" href="index.html"/>
        <link rel="up" title="dazl package" href="dazl.html"/>
        <link rel="next" title="dazl.ledger.aio" href="dazl.ledger.aio.html"/>
        <link rel="prev" title="dazl.damast" href="dazl.damlast.html"/> 
</head>
<body>

   

  <header>
    dazl

  </header>
  <nav>
              
              
                
              
              
                <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basics.html">Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrating.html">Migrate</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="dazl.html">dazl package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dazl.cli.html"><code class="docutils literal notranslate"><span class="pre">dazl.cli</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.client.html"><code class="docutils literal notranslate"><span class="pre">dazl.client</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.damlast.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.damast</span></code></a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.ledger</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-model">Data Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connections">Connections</a></li>
<li class="toctree-l3"><a class="reference internal" href="#write-side-types">Write-side types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#read-side-types">Read-side types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dazl.ledger.aio.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.ledger.aio</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.ledger.blocking.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.ledger.blocking</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.ledger.config.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.ledger.config</span></code> — connection configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.model.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.model</span></code> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.pretty.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.pretty</span></code> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.protocols.html"><code class="docutils literal notranslate"><span class="pre">dazl.protocols</span></code> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.testing.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.testing</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dazl.util.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.util</span></code> package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

              

  </nav>
  <main>
    
  <section id="dazl-ledger">
<h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.ledger</span></code><a class="headerlink" href="#dazl-ledger" title="Permalink to this headline">¶</a></h1>
<p>The <code class="xref py py-mod docutils literal notranslate"><span class="pre">dazl.ledger</span></code> module provides a way of connecting to Daml ledgers via the
<a class="reference external" href="https://docs.daml.com/app-dev/ledger-api.html">gRPC Ledger API</a> or
<a class="reference external" href="https://docs.daml.com/json-api/index.html">HTTP JSON API</a>.</p>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These examples are targeted to Python 3.7+ and later, particularly the use of
<code class="xref py py-meth docutils literal notranslate"><span class="pre">asyncio.run()</span></code>. For Python 3.6, replace calls to <code class="docutils literal notranslate"><span class="pre">asyncio.run(main())</span></code> with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span>
<span class="n">loop</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
<p>Connecting to a ledger, and printing out all create events that <code class="docutils literal notranslate"><span class="pre">Alice</span></code> can see
(using the <code class="docutils literal notranslate"><span class="pre">asyncio</span></code> API):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">dazl</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
   <span class="k">async</span> <span class="k">with</span> <span class="n">dazl</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;localhost:6865&#39;</span><span class="p">,</span> <span class="n">read_as</span><span class="o">=</span><span class="s1">&#39;Alice&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
      <span class="k">async</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">conn</span><span class="o">.</span><span class="n">creates</span><span class="p">():</span>
         <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">contract_id</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">payload</span><span class="p">)</span>

<span class="c1"># Python 3.7+ or later</span>
<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="dazl.ledger.connect">
<span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a connection from the supplied parameters. All of the parameters are optional, but you
will have to supply at least <code class="docutils literal notranslate"><span class="pre">read_as</span></code>, <code class="docutils literal notranslate"><span class="pre">act_as</span></code>, <code class="docutils literal notranslate"><span class="pre">admin</span></code>, <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code>, or
<code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> (see the section on Access config below).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The URL to connect to. Can be used as an alternative to supplying <code class="docutils literal notranslate"><span class="pre">host</span></code>, <code class="docutils literal notranslate"><span class="pre">port</span></code>,
and <code class="docutils literal notranslate"><span class="pre">scheme</span></code> as individual values. If none of of <code class="docutils literal notranslate"><span class="pre">url</span></code>, <code class="docutils literal notranslate"><span class="pre">host</span></code>, <code class="docutils literal notranslate"><span class="pre">port</span></code> or <code class="docutils literal notranslate"><span class="pre">scheme</span></code>
are specified, the value from the environment variable <code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_URL</span></code> is used instead.</p></li>
<li><p><strong>host</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The host to connect to. Can be used as an alternative to supplying <code class="docutils literal notranslate"><span class="pre">url</span></code> as a combined
value. If none of of <code class="docutils literal notranslate"><span class="pre">url</span></code>, <code class="docutils literal notranslate"><span class="pre">host</span></code>, <code class="docutils literal notranslate"><span class="pre">port</span></code> or <code class="docutils literal notranslate"><span class="pre">scheme</span></code> are specified, the value from
the environment variable <code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_HOST</span></code> is used instead.</p></li>
<li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The port to connect to. Can be used as an alternative to supplying <code class="docutils literal notranslate"><span class="pre">url</span></code> as a combined
value. If none of of <code class="docutils literal notranslate"><span class="pre">url</span></code>, <code class="docutils literal notranslate"><span class="pre">host</span></code>, <code class="docutils literal notranslate"><span class="pre">port</span></code> or <code class="docutils literal notranslate"><span class="pre">scheme</span></code> are specified, the value from
the environment variable <code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_PORT</span></code> is used instead.</p></li>
<li><p><strong>scheme</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The scheme to connect to. Can be used as an alternative to supplying <code class="docutils literal notranslate"><span class="pre">url</span></code> as a combined
value. If none of of <code class="docutils literal notranslate"><span class="pre">url</span></code>, <code class="docutils literal notranslate"><span class="pre">host</span></code>, <code class="docutils literal notranslate"><span class="pre">port</span></code> or <code class="docutils literal notranslate"><span class="pre">scheme</span></code> are specified, the value from
the environment variable <code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_SCHEME</span></code> is used instead.</p></li>
<li><p><strong>connect_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.10)"><em>datetime.timedelta</em></a>) – Length of time to wait before giving up connecting to the remote and declaring an error.
The default value is 30 seconds. If a number is supplied instead of a <code class="docutils literal notranslate"><span class="pre">timedelta</span></code>, it
is assumed to mean seconds.</p></li>
<li><p><strong>use_http_proxy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> to use an HTTP(S) proxy server if configured; <code class="docutils literal notranslate"><span class="pre">False</span></code> to avoid using any
configured server. If unspecified and the host is <code class="docutils literal notranslate"><span class="pre">localhost</span></code>, the proxy server is
avoided; otherwise the proxy server is used.</p></li>
<li><p><strong>ca</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><em>bytes</em></a>) – A certificate authority to use to validate the server’s certificate. If not supplied,
the operating system’s default trust store is used. Cannot be specified with
<code class="docutils literal notranslate"><span class="pre">ca_file</span></code>.</p></li>
<li><p><strong>ca_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>os.PathLike</em></a>) – A file containing the certificate authority to use to validate the server’s certificate.
If not supplied, the operating system’s default trust store is used. Cannot be specified
with <code class="docutils literal notranslate"><span class="pre">ca</span></code>.</p></li>
<li><p><strong>cert</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><em>bytes</em></a>) – A client-side certificate to be used when connecting to a server that requires mutual
TLS. Cannot be specified with <code class="docutils literal notranslate"><span class="pre">cert_file</span></code>.</p></li>
<li><p><strong>cert_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>os.PathLike</em></a>) – A file containing the client-side certificate to be used when connecting to a server
that requires mutual TLS. Cannot be specified with <code class="docutils literal notranslate"><span class="pre">cert</span></code>.</p></li>
<li><p><strong>cert_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><em>bytes</em></a>) – A client-side private key to be used when connecting to a server that requires mutual
TLS. Cannot be specified with <code class="docutils literal notranslate"><span class="pre">cert_key_file</span></code>.</p></li>
<li><p><strong>cert_key_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>os.PathLike</em></a>) – A client-side private key to be used when connecting to a server that requires mutual
TLS. Cannot be specified with <code class="docutils literal notranslate"><span class="pre">cert_key</span></code>.</p></li>
<li><p><strong>read_as</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>Collection</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>]</em>) – A party or set of parties on whose behalf (in addition to all parties listed in <code class="docutils literal notranslate"><span class="pre">act_as</span></code>)
contracts can be retrieved. Cannot be specified if <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code> or <code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> is
specified. If none of of <code class="docutils literal notranslate"><span class="pre">read_as</span></code>, <code class="docutils literal notranslate"><span class="pre">act_as</span></code>, <code class="docutils literal notranslate"><span class="pre">admin</span></code>, <code class="docutils literal notranslate"><span class="pre">ledger_id</span></code>,
<code class="docutils literal notranslate"><span class="pre">application_name</span></code>, <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code>, or <code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> are specified, the value from
the environment variable <code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_ACT_AS</span></code> is used instead.</p></li>
<li><p><strong>act_as</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>Collection</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>]</em>) – A party or set of parties on whose behalf commands should be executed. Parties here are also
implicitly granted <code class="docutils literal notranslate"><span class="pre">read_as</span></code> access as well. Cannot be specified if <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code> or
<code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> is specified. If none of of <code class="docutils literal notranslate"><span class="pre">read_as</span></code>, <code class="docutils literal notranslate"><span class="pre">act_as</span></code>, <code class="docutils literal notranslate"><span class="pre">admin</span></code>,
<code class="docutils literal notranslate"><span class="pre">ledger_id</span></code>, <code class="docutils literal notranslate"><span class="pre">application_name</span></code>, <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code>, or <code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> are specified,
the value from the environment variable <code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_ACT_AS</span></code> is used instead.</p></li>
<li><p><strong>admin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – HTTP JSON API only: allow admin endpoints to be used. This flag is ignored when connecting to
gRPC Ledger API implementations. Cannot be specified if <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code> or
<code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> is specified.</p></li>
<li><p><strong>ledger_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The ledger ID to connect to. For the HTTP JSON API, this value is required. For the gRPC
Ledger API, if this value is _not_ supplied, its value will be retrieved from the server.
Cannot be specified if <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code> or <code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> is specified. If none of of
<code class="docutils literal notranslate"><span class="pre">read_as</span></code>, <code class="docutils literal notranslate"><span class="pre">act_as</span></code>, <code class="docutils literal notranslate"><span class="pre">admin</span></code>, <code class="docutils literal notranslate"><span class="pre">ledger_id</span></code>, <code class="docutils literal notranslate"><span class="pre">application_name</span></code>, <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code>, or
<code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> are specified, the value from the environment variable <code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_ID</span></code>
is used instead.</p></li>
<li><p><strong>application_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – A string that identifies this application. This is used for tracing purposes on the
server-side. Cannot be specified if <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code> or <code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> is specified.
If none of of <code class="docutils literal notranslate"><span class="pre">read_as</span></code>, <code class="docutils literal notranslate"><span class="pre">act_as</span></code>, <code class="docutils literal notranslate"><span class="pre">admin</span></code>, <code class="docutils literal notranslate"><span class="pre">ledger_id</span></code>, <code class="docutils literal notranslate"><span class="pre">application_name</span></code>,
<code class="docutils literal notranslate"><span class="pre">oauth_token</span></code>, or <code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> are specified, the value from the environment
variable <code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_APPLICATION_NAME</span></code> is used instead.</p></li>
<li><p><strong>oauth_token</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><em>bytes</em></a>) – The OAuth bearer token to be used on all requests. Cannot be specified if <code class="docutils literal notranslate"><span class="pre">read_as</span></code>,
<code class="docutils literal notranslate"><span class="pre">act_as</span></code>, <code class="docutils literal notranslate"><span class="pre">admin</span></code>, <code class="docutils literal notranslate"><span class="pre">ledger_id</span></code>, <code class="docutils literal notranslate"><span class="pre">application_name</span></code>, or <code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> is
specified. If none of of <code class="docutils literal notranslate"><span class="pre">read_as</span></code>, <code class="docutils literal notranslate"><span class="pre">act_as</span></code>, <code class="docutils literal notranslate"><span class="pre">admin</span></code>, <code class="docutils literal notranslate"><span class="pre">ledger_id</span></code>,
<code class="docutils literal notranslate"><span class="pre">application_name</span></code>, <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code>, or <code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> are specified, the value from
the environment variable <code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_OAUTH_TOKEN</span></code> is used instead.</p></li>
<li><p><strong>oauth_token_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>os.PathLike</em></a>) – A file that contains the OAuth bearer token to be used on all requests. Cannot be specified if
<code class="docutils literal notranslate"><span class="pre">read_as</span></code>, <code class="docutils literal notranslate"><span class="pre">act_as</span></code>, <code class="docutils literal notranslate"><span class="pre">admin</span></code>, <code class="docutils literal notranslate"><span class="pre">ledger_id</span></code>, <code class="docutils literal notranslate"><span class="pre">application_name</span></code>, or <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code> is
specified. If none of of <code class="docutils literal notranslate"><span class="pre">read_as</span></code>, <code class="docutils literal notranslate"><span class="pre">act_as</span></code>, <code class="docutils literal notranslate"><span class="pre">admin</span></code>, <code class="docutils literal notranslate"><span class="pre">ledger_id</span></code>,
<code class="docutils literal notranslate"><span class="pre">application_name</span></code>, <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code>, or <code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> are specified, the value from
the environment variable <code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_OAUTH_TOKEN_FILE</span></code> is used instead.</p></li>
<li><p><strong>logger</strong> (<a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.10)"><em>logging.Logger</em></a>) – The logger to use for connections created from this configuration. If not supplied, a
logger will be created.</p></li>
<li><p><strong>logger_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The name of the logger. Only used if <code class="docutils literal notranslate"><span class="pre">logger</span></code> is not provided.</p></li>
<li><p><strong>log_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The logging level for the logger. The default is <code class="docutils literal notranslate"><span class="pre">warn</span></code>. Only used if <code class="docutils literal notranslate"><span class="pre">logger</span></code> is
not provided. This function accepts any valid Python <a class="reference external" href="https://docs.python.org/3/library/logging.html#levels">logging level</a>.</p></li>
</ul>
</dd>
</dl>
<p>The remote can be configured either by supplying a URL or by supplying a host (and optional
port and scheme). If none of <code class="docutils literal notranslate"><span class="pre">url</span></code>, <code class="docutils literal notranslate"><span class="pre">host</span></code>, <code class="docutils literal notranslate"><span class="pre">port</span></code>, or <code class="docutils literal notranslate"><span class="pre">scheme</span></code> are supplied, then
environment variables are consulted; if no environment variables are specified either, then
default values are used.</p>
<p>When the URL scheme is <code class="docutils literal notranslate"><span class="pre">http</span></code> or <code class="docutils literal notranslate"><span class="pre">https</span></code>, dazl will first attempt to connect assuming
the HTTP JSON API; if this fails, gRPC Ledger API is attempted.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code> is supplied and non-empty, then <em>token-based access</em> is used to connect
to the ledger. (Note that you cannot specify both <code class="docutils literal notranslate"><span class="pre">oauth_token</span></code> and <code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code>.)</p>
<p>If other fields are specified, then <em>property-based access</em> is used. At least one of
<code class="docutils literal notranslate"><span class="pre">read_as</span></code>, <code class="docutils literal notranslate"><span class="pre">act_as</span></code>, or <code class="docutils literal notranslate"><span class="pre">admin</span></code> must be supplied. For the HTTP JSON API,
<code class="docutils literal notranslate"><span class="pre">ledger_id</span></code> MUST be supplied.</p>
<p>If <em>no</em> fields are specified, this is an error unless environment variables supply an alternate
source of configuration.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 24%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>function argument</p></th>
<th class="head"><p>environment variable</p></th>
<th class="head"><p>default value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td colspan="3"><p><strong>Connection config</strong></p>
<p>Specifying <em>any</em> of <code class="docutils literal notranslate"><span class="pre">url</span></code>, <code class="docutils literal notranslate"><span class="pre">host</span></code>, <code class="docutils literal notranslate"><span class="pre">port</span></code>, or <code class="docutils literal notranslate"><span class="pre">scheme</span></code> causes <em>all</em> of these
environment variables to be ignored</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">url</span></code></p></td>
<td><p>DAML_LEDGER_URL</p></td>
<td><p>localhost:6865</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">host</span></code></p></td>
<td><p>DAML_LEDGER_HOST</p></td>
<td><p>localhost</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">port</span></code></p></td>
<td><p>DAML_LEDGER_PORT</p></td>
<td><div class="line-block">
<div class="line">6865, unless <code class="docutils literal notranslate"><span class="pre">scheme</span></code> is specified:</div>
<div class="line">• 80 for <code class="docutils literal notranslate"><span class="pre">http</span></code></div>
<div class="line">• 443 for <code class="docutils literal notranslate"><span class="pre">https</span></code></div>
<div class="line">• 6865 for <code class="docutils literal notranslate"><span class="pre">grpc</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scheme</span></code></p></td>
<td><p>DAML_LEDGER_SCHEME</p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">https</span></code> for port 443 or 8443</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">http</span></code> for port 80, 7575 or 8080</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">grpc</span></code> for port 6865</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">https</span></code> for all other ports</div>
</div>
</td>
</tr>
<tr class="row-odd"><td colspan="3"><p><strong>Access config</strong></p>
<p>Specifying <em>any</em> of <code class="docutils literal notranslate"><span class="pre">act_as</span></code>, <code class="docutils literal notranslate"><span class="pre">read_as</span></code>, <code class="docutils literal notranslate"><span class="pre">admin</span></code>, <code class="docutils literal notranslate"><span class="pre">ledger_id</span></code>, <code class="docutils literal notranslate"><span class="pre">application_name</span></code>,
<code class="docutils literal notranslate"><span class="pre">oauth_token</span></code>, or <code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code> causes <em>all</em> of these environment variables to be
ignored</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">act_as</span></code></p></td>
<td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_ACT_AS</span></code> (as a comma-separated list of parties)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">read_as</span></code></p></td>
<td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_READ_AS</span></code> (as a comma-separated list of parties)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ledger_id</span></code></p></td>
<td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_ID</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">application_name</span></code></p></td>
<td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_APPLICATION_NAME</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">oauth_token</span></code></p></td>
<td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_OAUTH_TOKEN</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">oauth_token_file</span></code></p></td>
<td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">DAML_LEDGER_OAUTH_TOKEN_FILE</span></code></p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When connecting to the gRPC Ledger API, note that
<a class="reference external" href="https://grpc.github.io/grpc/cpp/md_doc_environment_variables.html">gRPC environment variables</a> are also respected.
You can configure the gRPC client in much more detail with these flags.</p>
</div>
</dd></dl>

</section>
<section id="data-model">
<h2>Data Model<a class="headerlink" href="#data-model" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<tbody>
<tr class="row-odd"><td colspan="2"><p>Commands</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dazl.ledger.Command" title="dazl.ledger.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">Command</span></code></a></p></td>
<td><p>abstract base class of all commands</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dazl.ledger.CreateCommand" title="dazl.ledger.CreateCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateCommand</span></code></a></p></td>
<td><p>create a contract</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dazl.ledger.CreateAndExerciseCommand" title="dazl.ledger.CreateAndExerciseCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateAndExerciseCommand</span></code></a></p></td>
<td><p>create a contract and immediately exercise a choice on the
newly created contract in a single transaction</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dazl.ledger.ExerciseCommand" title="dazl.ledger.ExerciseCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExerciseCommand</span></code></a></p></td>
<td><p>exercise a choice on a contract identified by its contract
ID</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dazl.ledger.ExerciseByKeyCommand" title="dazl.ledger.ExerciseByKeyCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExerciseByKeyCommand</span></code></a></p></td>
<td><p>exercise a choice on a contract identified by its contract
key</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Events and Responses</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.CreateEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEvent</span></code></a></p></td>
<td><p>event raised when a contract is created, either as part of
the active contract set or on the transaction stream</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dazl.ledger.ArchiveEvent" title="dazl.ledger.ArchiveEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArchiveEvent</span></code></a></p></td>
<td><p>event raised when a contract is archived on the transaction
stream</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dazl.ledger.ExerciseResponse" title="dazl.ledger.ExerciseResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExerciseResponse</span></code></a></p></td>
<td><p>the response from an exercise, including the choice’s return
value (if any)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dazl.ledger.Boundary" title="dazl.ledger.Boundary"><code class="xref py py-class docutils literal notranslate"><span class="pre">Boundary</span></code></a></p></td>
<td><p>indicates a point where an event stream can be subsequently
resumed</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Other</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dazl.ledger.PartyInfo" title="dazl.ledger.PartyInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">PartyInfo</span></code></a></p></td>
<td><p>metadata about a party</p></td>
</tr>
</tbody>
</table>
</section>
<section id="connections">
<h2>Connections<a class="headerlink" href="#connections" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dazl.ledger.Connection">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">Connection</span></span><a class="headerlink" href="#dazl.ledger.Connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Protocol that describes a connection to a ledger. You will typically work with the more specific
protocols <a class="reference internal" href="dazl.ledger.aio.html#dazl.ledger.aio.Connection" title="dazl.ledger.aio.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">dazl.ledger.aio.Connection</span></code></a> or <code class="xref py py-class docutils literal notranslate"><span class="pre">dazl.ledger.blocking.Connection</span></code> that
are tailored towards connections with <code class="docutils literal notranslate"><span class="pre">asyncio</span></code> or thread-blocking semantics, respectively.</p>
<p>On <em>asynchronous</em> connections:</p>
<blockquote>
<div><ul class="simple">
<li><p>the command submission methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">create()</span></code>, <a class="reference internal" href="#dazl.ledger.Connection.exercise" title="dazl.ledger.Connection.exercise"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exercise()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">submit()</span></code> are coroutines.</p></li>
<li><p>the stream methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">query()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">query_many()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">stream()</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">stream_many()</span></code>,
return asynchronous context managers and asynchronous iterators</p></li>
</ul>
</div></blockquote>
<p>On <em>blocking</em> connections:</p>
<blockquote>
<div><ul class="simple">
<li><p>the command submission methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">create()</span></code>, <a class="reference internal" href="#dazl.ledger.Connection.exercise" title="dazl.ledger.Connection.exercise"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exercise()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">submit()</span></code> block the
current thread until the command submission succeeds or fails.</p></li>
<li><p>the stream methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">query()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">query_many()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">stream()</span></code>, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">stream_many()</span></code>,
return context managers and blocking iterators.</p></li>
</ul>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="dazl.ledger.Connection.exercise">
<span class="sig-name descname"><span class="pre">exercise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">contract_id</span></em>, <em class="sig-param"><span class="pre">choice_name</span></em>, <span class="optional">[</span><em class="sig-param"><span class="pre">argument</span></em>, <span class="optional">]</span><em class="sig-param"><span class="pre">/</span></em>, <em class="sig-param"><span class="pre">*</span></em>, <em class="sig-param"><span class="pre">workflow_id=None</span></em>, <em class="sig-param"><span class="pre">command_id=None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.Connection.exercise" title="Permalink to this definition">¶</a></dt>
<dd><p>Exercise a choice on a contract identified by its contract ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contract_id</strong> (<em>dazl.prim.ContractId</em>) – The contract ID of the contract to exercise.</p></li>
<li><p><strong>choice_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The name of the choice to exercise.</p></li>
<li><p><strong>argument</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – The choice arguments. Can be omitted for choices that take no argument.</p></li>
<li><p><strong>workflow_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – An optional workflow ID.</p></li>
<li><p><strong>command_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – An optional command ID. If unspecified, a random one will be created.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dazl.ledger.Connection.archive">
<span class="sig-name descname"><span class="pre">archive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">contract_id</span></em>, <em class="sig-param"><span class="pre">/</span></em>, <em class="sig-param"><span class="pre">*</span></em>, <em class="sig-param"><span class="pre">workflow_id=None</span></em>, <em class="sig-param"><span class="pre">command_id=None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.Connection.archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Archive a choice on a contract identified by its contract ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contract_id</strong> (<em>dazl.prim.ContractId</em>) – The contract ID of the contract to archive.</p></li>
<li><p><strong>workflow_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – An optional workflow ID.</p></li>
<li><p><strong>command_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – An optional command ID. If unspecified, a random one will be created.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dazl.ledger.QueryStream">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">QueryStream</span></span><a class="headerlink" href="#dazl.ledger.QueryStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Protocol for classes that provide for reading from a stream of events from a Daml ledger. Like
<a class="reference internal" href="#dazl.ledger.Connection" title="dazl.ledger.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>, there are async query streams (<a class="reference internal" href="dazl.ledger.aio.html#dazl.ledger.aio.QueryStream" title="dazl.ledger.aio.QueryStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">dazl.ledger.aio.QueryStream</span></code></a>) and
blocking query streams (<code class="xref py py-class docutils literal notranslate"><span class="pre">dazl.ledger.blocking.QueryStream</span></code>).</p>
<p>The methods of <a class="reference internal" href="#dazl.ledger.QueryStream" title="dazl.ledger.QueryStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueryStream</span></code></a> consume the stream: you cannot replay a
<a class="reference internal" href="#dazl.ledger.QueryStream" title="dazl.ledger.QueryStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueryStream</span></code></a>’s contents simply by trying to iterate over it again.</p>
<p>On <em>asynchronous</em> connections, the methods on <a class="reference internal" href="#dazl.ledger.QueryStream" title="dazl.ledger.QueryStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueryStream</span></code></a> return asynchronous
iterators: use <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code> to iterate over their contents.</p>
<p>On <em>blocking</em> connections, the methods on <a class="reference internal" href="#dazl.ledger.QueryStream" title="dazl.ledger.QueryStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueryStream</span></code></a> return blocking iterators:
use <code class="docutils literal notranslate"><span class="pre">for</span></code> to iterate over their contents.</p>
<p>Note that the <a class="reference internal" href="#dazl.ledger.QueryStream.events" title="dazl.ledger.QueryStream.events"><code class="xref py py-meth docutils literal notranslate"><span class="pre">events()</span></code></a> and <a class="reference internal" href="#dazl.ledger.QueryStream.items" title="dazl.ledger.QueryStream.items"><code class="xref py py-meth docutils literal notranslate"><span class="pre">items()</span></code></a> streams may return <a class="reference internal" href="#dazl.ledger.ArchiveEvent" title="dazl.ledger.ArchiveEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArchiveEvent</span></code></a> objects
that had no <a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.CreateEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEvent</span></code></a> predecessor. This may happen for a number of reasons:</p>
<blockquote>
<div><ul class="simple">
<li><p>You started requesting a stream at a specific offset. When resuming from an offset, no
events (<a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.CreateEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEvent</span></code></a> or <a class="reference internal" href="#dazl.ledger.ArchiveEvent" title="dazl.ledger.ArchiveEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArchiveEvent</span></code></a>) that preceded the specified offset are
returned.</p></li>
<li><p>You are filtering events; event filtering only applies to <a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.CreateEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEvent</span></code></a> instances and
<em>not</em> <a class="reference internal" href="#dazl.ledger.ArchiveEvent" title="dazl.ledger.ArchiveEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArchiveEvent</span></code></a>.</p></li>
<li><p>You are learning of an archive of a <a class="reference external" href="https://docs.daml.com/concepts/ledger-model/ledger-privacy.html#divulgence-when-non-stakeholders-see-contracts">divulged contract</a>.
Note that <code class="docutils literal notranslate"><span class="pre">dazl</span></code> does not have an API for retrieving divulged contracts.</p></li>
</ul>
</div></blockquote>
<p><strong>Reading from and controlling the stream</strong></p>
<p>The <a class="reference internal" href="#dazl.ledger.QueryStream.creates" title="dazl.ledger.QueryStream.creates"><code class="xref py py-meth docutils literal notranslate"><span class="pre">creates()</span></code></a>, <a class="reference internal" href="#dazl.ledger.QueryStream.events" title="dazl.ledger.QueryStream.events"><code class="xref py py-meth docutils literal notranslate"><span class="pre">events()</span></code></a>, and <a class="reference internal" href="#dazl.ledger.QueryStream.items" title="dazl.ledger.QueryStream.items"><code class="xref py py-meth docutils literal notranslate"><span class="pre">items()</span></code></a> methods are used to receive events from
the stream; <a class="reference internal" href="#dazl.ledger.QueryStream.run" title="dazl.ledger.QueryStream.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> can be used to consume the stream without iterating yourself, and
<a class="reference internal" href="#dazl.ledger.QueryStream.close" title="dazl.ledger.QueryStream.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a> stops the stream.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># asynchronous connections</span>
<span class="k">async</span> <span class="k">with</span> <span class="n">conn</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
   <span class="k">async</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">stream</span><span class="o">.</span><span class="n">creates</span><span class="p">():</span>
      <span class="c1"># print every contract create...forever</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">contract_id</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">payload</span><span class="p">)</span>

<span class="c1"># blocking connections</span>
<span class="k">with</span> <span class="n">conn</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
   <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">stream</span><span class="o">.</span><span class="n">creates</span><span class="p">():</span>
      <span class="c1"># print every contract create...forever</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">contract_id</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">payload</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dazl.ledger.QueryStream.creates">
<span class="sig-name descname"><span class="pre">creates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.QueryStream.creates" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator (or async iterator) over only <a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.CreateEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEvent</span></code></a> instances.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dazl.ledger.QueryStream.events">
<span class="sig-name descname"><span class="pre">events</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.QueryStream.events" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator (or async iterator) over <a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.CreateEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEvent</span></code></a> and <a class="reference internal" href="#dazl.ledger.ArchiveEvent" title="dazl.ledger.ArchiveEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArchiveEvent</span></code></a>
instances.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dazl.ledger.QueryStream.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.QueryStream.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator (or async iterator) over <em>all</em> objects (<a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.CreateEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEvent</span></code></a>,
<a class="reference internal" href="#dazl.ledger.ArchiveEvent" title="dazl.ledger.ArchiveEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArchiveEvent</span></code></a>, and <a class="reference internal" href="#dazl.ledger.Boundary" title="dazl.ledger.Boundary"><code class="xref py py-class docutils literal notranslate"><span class="pre">Boundary</span></code></a>).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dazl.ledger.QueryStream.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.QueryStream.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Block until the stream has been fully consumed. This method normally only makes sense to
use in conjunction with callbacks (<a class="reference internal" href="#dazl.ledger.QueryStream.on_create" title="dazl.ledger.QueryStream.on_create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">on_create()</span></code></a>, <a class="reference internal" href="#dazl.ledger.QueryStream.on_archive" title="dazl.ledger.QueryStream.on_archive"><code class="xref py py-meth docutils literal notranslate"><span class="pre">on_archive()</span></code></a>, and
<a class="reference internal" href="#dazl.ledger.QueryStream.on_boundary" title="dazl.ledger.QueryStream.on_boundary"><code class="xref py py-meth docutils literal notranslate"><span class="pre">on_boundary()</span></code></a>). For async connections, this is a coroutine.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dazl.ledger.QueryStream.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.QueryStream.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the iterator and aborts the stream. For async connections, this is a coroutine.</p>
</dd></dl>

<p><strong>Registering Callbacks</strong></p>
<p>Callbacks can be used as an alternative to reading events from the stream.</p>
<p>The callable must take a <a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.CreateEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEvent</span></code></a>, <a class="reference internal" href="#dazl.ledger.ArchiveEvent" title="dazl.ledger.ArchiveEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArchiveEvent</span></code></a>, or <a class="reference internal" href="#dazl.ledger.Boundary" title="dazl.ledger.Boundary"><code class="xref py py-class docutils literal notranslate"><span class="pre">Boundary</span></code></a> as
its only parameter and should generally return <code class="docutils literal notranslate"><span class="pre">None</span></code>. However the callback can also return
<a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.CreateEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEvent</span></code></a> or <a class="reference internal" href="#dazl.ledger.ExerciseResponse" title="dazl.ledger.ExerciseResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExerciseResponse</span></code></a>, mostly so that one-line lambdas that call
ledger methods can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># registering a callback as a lambda</span>
<span class="n">stream</span><span class="o">.</span><span class="n">on_create</span><span class="p">(</span><span class="s2">&quot;My:Tmpl&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="n">conn</span><span class="o">.</span><span class="n">exercise</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">cid</span><span class="p">,</span> <span class="s2">&quot;Accept&quot;</span><span class="p">))</span>

<span class="c1"># registering a callback using a decorator</span>
<span class="nd">@stream</span><span class="o">.</span><span class="n">on_create</span><span class="p">(</span><span class="s2">&quot;My:Tmpl&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">exercise</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">cid</span><span class="p">,</span> <span class="s2">&quot;Accept&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dazl.ledger.QueryStream.on_create">
<span class="sig-name descname"><span class="pre">on_create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.QueryStream.on_create" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">on_create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">&#64;on_create</span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">&#64;on_create(name)</span></span></dt>
<dd><p>Register a callback that is triggered whenever a <a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.CreateEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEvent</span></code></a> is read through the
stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>dazl.damlast.TypeConName</em>) – An optional name of a template to further filter <a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.CreateEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEvent</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dazl.ledger.QueryStream.on_archive">
<span class="sig-name descname"><span class="pre">on_archive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.QueryStream.on_archive" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">on_archive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">&#64;on_archive</span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">&#64;on_archive(name)</span></span></dt>
<dd><p>Register a callback that is triggered whenever a <a class="reference internal" href="#dazl.ledger.ArchiveEvent" title="dazl.ledger.ArchiveEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArchiveEvent</span></code></a> is read through the
stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>dazl.damlast.TypeConName</em>) – An optional name of a template to further filter <a class="reference internal" href="#dazl.ledger.ArchiveEvent" title="dazl.ledger.ArchiveEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArchiveEvent</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dazl.ledger.QueryStream.on_boundary">
<span class="sig-name descname"><span class="pre">on_boundary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.QueryStream.on_boundary" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">&#64;on_boundary</span></span></dt>
<dd><p>Register a callback that is triggered whenever a <a class="reference internal" href="#dazl.ledger.Boundary" title="dazl.ledger.Boundary"><code class="xref py py-class docutils literal notranslate"><span class="pre">Boundary</span></code></a> is read through the
stream.</p>
</dd></dl>

</dd></dl>

</section>
<section id="write-side-types">
<h2>Write-side types<a class="headerlink" href="#write-side-types" title="Permalink to this headline">¶</a></h2>
<p>Daml ledger state can be updated by submitting commands to the ledger. You should prefer using
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.create()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.create_and_exercise()</span></code>, <a class="reference internal" href="#dazl.ledger.Connection.exercise" title="dazl.ledger.Connection.exercise"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.exercise()</span></code></a>, and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.exercise_by_key()</span></code> over constructing instances of these commands, as those methods
can give you more information about what happened.</p>
<dl class="py class">
<dt class="sig sig-object py" id="dazl.ledger.Command">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">Command</span></span><a class="headerlink" href="#dazl.ledger.Command" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for write-side commands.</p>
<p>This class provides no functionality on its own.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dazl.ledger.CreateCommand">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">CreateCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">dazl.damlast.daml_lf_1.TypeConName</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.CreateCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>A command that creates a contract without any predecessors.</p>
<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.CreateCommand.payload">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">payload</span></span><em class="property"><span class="pre">:</span> <span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#dazl.ledger.CreateCommand.payload" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the template arguments for the contract to be created.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.CreateCommand.template_id">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">template_id</span></span><em class="property"><span class="pre">:</span> <span class="pre">dazl.damlast.daml_lf_1.TypeConName</span></em><a class="headerlink" href="#dazl.ledger.CreateCommand.template_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the template of the contract to be created.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dazl.ledger.CreateAndExerciseCommand">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">CreateAndExerciseCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">dazl.damlast.daml_lf_1.TypeConName</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choice</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.CreateAndExerciseCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>A command that exercises a choice on a newly-created contract in a single transaction.</p>
<p>Instead of creating an instance of this command and submitting it with <code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.submit()</span></code>,
consider using <code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.create_and_exercise()</span></code> instead, which also gives you access to
the result of exercising the choice.</p>
<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.CreateAndExerciseCommand.argument">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">argument</span></span><em class="property"><span class="pre">:</span> <span class="pre">Any</span></em><a class="headerlink" href="#dazl.ledger.CreateAndExerciseCommand.argument" title="Permalink to this definition">¶</a></dt>
<dd><p>The choice arguments.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.CreateAndExerciseCommand.choice">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">choice</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#dazl.ledger.CreateAndExerciseCommand.choice" title="Permalink to this definition">¶</a></dt>
<dd><p>The choice to exercise.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.CreateAndExerciseCommand.payload">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">payload</span></span><em class="property"><span class="pre">:</span> <span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#dazl.ledger.CreateAndExerciseCommand.payload" title="Permalink to this definition">¶</a></dt>
<dd><p>The template arguments for the contract to be created.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.CreateAndExerciseCommand.template_id">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">template_id</span></span><em class="property"><span class="pre">:</span> <span class="pre">dazl.damlast.daml_lf_1.TypeConName</span></em><a class="headerlink" href="#dazl.ledger.CreateAndExerciseCommand.template_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The template of the contract to be created.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dazl.ledger.ExerciseCommand">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">ExerciseCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dazl.prim.contracts.ContractId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choice</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.ExerciseCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>A command that exercises a choice on a contract identified by its contract ID.</p>
<p>Instead of creating an instance of this command and submitting it with <code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.submit()</span></code>,
consider using <a class="reference internal" href="#dazl.ledger.Connection.exercise" title="dazl.ledger.Connection.exercise"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.exercise()</span></code></a> instead, which also gives you access to the result of
exercising the choice.</p>
<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.ExerciseCommand.argument">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">argument</span></span><em class="property"><span class="pre">:</span> <span class="pre">Any</span></em><a class="headerlink" href="#dazl.ledger.ExerciseCommand.argument" title="Permalink to this definition">¶</a></dt>
<dd><p>The choice arguments.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.ExerciseCommand.choice">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">choice</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#dazl.ledger.ExerciseCommand.choice" title="Permalink to this definition">¶</a></dt>
<dd><p>The choice to exercise.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.ExerciseCommand.contract_id">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">contract_id</span></span><em class="property"><span class="pre">:</span> <span class="pre">dazl.prim.contracts.ContractId</span></em><a class="headerlink" href="#dazl.ledger.ExerciseCommand.contract_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The contract ID of the contract to exercise.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dazl.ledger.ExerciseByKeyCommand">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">ExerciseByKeyCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">dazl.damlast.daml_lf_1.TypeConName</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choice</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.ExerciseByKeyCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>A command that exercises a choice on a contract identified by its contract key.</p>
<p>Instead of creating an instance of this command and submitting it with <code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.submit()</span></code>,
consider using <code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.exercise_by_key()</span></code> instead, which also gives you access to the
result of exercising the choice.</p>
<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.ExerciseByKeyCommand.argument">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">argument</span></span><em class="property"><span class="pre">:</span> <span class="pre">Any</span></em><a class="headerlink" href="#dazl.ledger.ExerciseByKeyCommand.argument" title="Permalink to this definition">¶</a></dt>
<dd><p>The choice arguments.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.ExerciseByKeyCommand.choice">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">choice</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#dazl.ledger.ExerciseByKeyCommand.choice" title="Permalink to this definition">¶</a></dt>
<dd><p>The choice to exercise.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.ExerciseByKeyCommand.key">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">key</span></span><em class="property"><span class="pre">:</span> <span class="pre">Any</span></em><a class="headerlink" href="#dazl.ledger.ExerciseByKeyCommand.key" title="Permalink to this definition">¶</a></dt>
<dd><p>The contract key of the contract to exercise.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.ExerciseByKeyCommand.template_id">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">template_id</span></span><em class="property"><span class="pre">:</span> <span class="pre">dazl.damlast.daml_lf_1.TypeConName</span></em><a class="headerlink" href="#dazl.ledger.ExerciseByKeyCommand.template_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The contract template type.</p>
</dd></dl>

</dd></dl>

</section>
<section id="read-side-types">
<h2>Read-side types<a class="headerlink" href="#read-side-types" title="Permalink to this headline">¶</a></h2>
<p>An <code class="docutils literal notranslate"><span class="pre">Event</span></code> in a transaction is either a <a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.CreateEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateEvent</span></code></a> or an <cite>ArchiveEvent`</cite>.</p>
<p>You can resume a stream of events from a previous point by using <code class="docutils literal notranslate"><span class="pre">stream.items()</span></code> and looking for
<code class="docutils literal notranslate"><span class="pre">Boundary</span></code> objects.</p>
<p>More detailed information about exercises, including the return value and events that occurred as
a result of an exercise, is available from <code class="docutils literal notranslate"><span class="pre">ExerciseResponse</span></code> objects as returned from
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.create_and_exercise()</span></code>, <a class="reference internal" href="#dazl.ledger.Connection.exercise" title="dazl.ledger.Connection.exercise"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.exercise()</span></code></a>, and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.exercise_by_key()</span></code>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="dazl.ledger.CreateEvent">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">CreateEvent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dazl.prim.contracts.ContractId</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signatories</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Collection</span><span class="p"><span class="pre">[</span></span><span class="pre">Party</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observers</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Collection</span><span class="p"><span class="pre">[</span></span><span class="pre">Party</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agreement_text</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.CreateEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>An event that indicates a newly-created contract.</p>
<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.CreateEvent.agreement_text">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">agreement_text</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#dazl.ledger.CreateEvent.agreement_text" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference external" href="https://docs.daml.com/daml/reference/templates.html#agreements">agreement text</a> of
the contract.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.CreateEvent.contract_id">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">contract_id</span></span><em class="property"><span class="pre">:</span> <span class="pre">dazl.prim.contracts.ContractId</span></em><a class="headerlink" href="#dazl.ledger.CreateEvent.contract_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID of the created contract.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.CreateEvent.key">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">key</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#dazl.ledger.CreateEvent.key" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference external" href="https://docs.daml.com/daml/reference/templates.html#contract-keys-and-maintainers">key</a>
of the contract, if defined.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.CreateEvent.observers">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">observers</span></span><em class="property"><span class="pre">:</span> <span class="pre">AbstractSet</span><span class="p"><span class="pre">[</span></span><span class="pre">Party</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#dazl.ledger.CreateEvent.observers" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference external" href="https://docs.daml.com/daml/reference/templates.html#observers">observers</a> for this
contract as specified explicitly by the template or implicitly as choice controllers.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.CreateEvent.payload">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">payload</span></span><em class="property"><span class="pre">:</span> <span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#dazl.ledger.CreateEvent.payload" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference external" href="https://docs.daml.com/daml/reference/templates.html#template-parameters">parameters</a>
that were used to create the contract.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.CreateEvent.signatories">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">signatories</span></span><em class="property"><span class="pre">:</span> <span class="pre">AbstractSet</span><span class="p"><span class="pre">[</span></span><span class="pre">Party</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#dazl.ledger.CreateEvent.signatories" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference external" href="https://docs.daml.com/daml/reference/templates.html#signatory-parties">signatories</a>
for this contract as specified by the template.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dazl.ledger.ArchiveEvent">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">ArchiveEvent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contract_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dazl.prim.contracts.ContractId</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.ArchiveEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>An event that indicates a contract was archived.</p>
<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.ArchiveEvent.contract_id">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">contract_id</span></span><em class="property"><span class="pre">:</span> <span class="pre">dazl.prim.contracts.ContractId</span></em><a class="headerlink" href="#dazl.ledger.ArchiveEvent.contract_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The contract ID of the archived contract.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dazl.ledger.Boundary">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">Boundary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.Boundary" title="Permalink to this definition">¶</a></dt>
<dd><p>An event that indicates a boundary in a query stream where events can be resumed.</p>
<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.Boundary.offset">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">offset</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#dazl.ledger.Boundary.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>The offset at which this boundary occurred.</p>
<p>If this is <code class="docutils literal notranslate"><span class="pre">None</span></code>, that indicates that an active contract set was requested, but the
ledger is completely empty.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dazl.ledger.ExerciseResponse">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">ExerciseResponse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.api_types.CreateEvent"><span class="pre">dazl.ledger.api_types.CreateEvent</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="#dazl.ledger.ArchiveEvent" title="dazl.ledger.api_types.ArchiveEvent"><span class="pre">dazl.ledger.api_types.ArchiveEvent</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.ExerciseResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Returned when directly exercising a choice using <code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.create_and_exercise()</span></code>,
<a class="reference internal" href="#dazl.ledger.Connection.exercise" title="dazl.ledger.Connection.exercise"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.exercise()</span></code></a>, or <code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.exercise_by_key()</span></code>.</p>
<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.ExerciseResponse.events">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">events</span></span><em class="property"><span class="pre">:</span> <span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dazl.ledger.CreateEvent" title="dazl.ledger.api_types.CreateEvent"><span class="pre">dazl.ledger.api_types.CreateEvent</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="#dazl.ledger.ArchiveEvent" title="dazl.ledger.api_types.ArchiveEvent"><span class="pre">dazl.ledger.api_types.ArchiveEvent</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#dazl.ledger.ExerciseResponse.events" title="Permalink to this definition">¶</a></dt>
<dd><p>All of the events that occurred as a result of exercising the choice, including the archive
event for the contract if the choice is consuming (or otherwise archives it as part of its
execution).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.ExerciseResponse.result">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">result</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#dazl.ledger.ExerciseResponse.result" title="Permalink to this definition">¶</a></dt>
<dd><p>The return value of the choice.</p>
</dd></dl>

</dd></dl>

</section>
<section id="other">
<h2>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="dazl.ledger.PartyInfo">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dazl.ledger.</span></span><span class="sig-name descname"><span class="pre">PartyInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">party</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Party</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_local</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dazl.ledger.PartyInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Full information about a <code class="docutils literal notranslate"><span class="pre">Party</span></code>.</p>
<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.PartyInfo.display_name">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">display_name</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#dazl.ledger.PartyInfo.display_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The human-readable name associated with the <code class="docutils literal notranslate"><span class="pre">Party</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.PartyInfo.is_local">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">is_local</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></em><a class="headerlink" href="#dazl.ledger.PartyInfo.is_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates if the <code class="docutils literal notranslate"><span class="pre">Party</span></code> is hosted by the backing participant.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dazl.ledger.PartyInfo.party">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">party</span></span><em class="property"><span class="pre">:</span> <span class="pre">Party</span></em><a class="headerlink" href="#dazl.ledger.PartyInfo.party" title="Permalink to this definition">¶</a></dt>
<dd><p>The stable unique identifier of a Daml <code class="docutils literal notranslate"><span class="pre">Party</span></code>.</p>
</dd></dl>

</dd></dl>

</section>
</section>


  </main>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'',
            VERSION:'7.5.13',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/documentation_options.js"></script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <footer> 
  </footer>
</body>
</html>